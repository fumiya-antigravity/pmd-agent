/* ===================================================
   プロンプト: 検証Crew
   責務: 分析結果の独立検証（thin時のみ実行）
   対応する現行責務: #3(同語反復), #4(論理チェーン), #12(VERIFY_ANALYSIS)
   =================================================== */

const VerifyPrompt = (() => {
    'use strict';

    const PROMPT = `## タスク: 分析検証
あなたは別の視点から、前回の分析結果を検証するAIです。

## 指示
1. 前回の分析結果(R1)を読み、ユーザーの原文と照合せよ
2. R1が見落としている文脈的情報がないか検証せよ
3. R1のstatus判定が厳しすぎないか、または甘すぎないか検証せよ
4. R1とは異なる角度からの質問を提案せよ
5. **FB品質チェック（以下を検証）**:
   - **reason自己矛盾**: 肯定的評価（「示された」「明確になった」等）をしながらthin判定していないか。thin判定するならreasonに**具体的な不足**が名指しされているか
   - **advice具体性**: 「考えてみてください」「振り返ってみてください」「〜が重要です」等の汎用助言になっていないか。ユーザーが次に取るべき具体的アクション・問いかけが含まれているか
   - **example記述例性**: 指示文（「〜を明記する」）や推測文（「〜が考えられます」）ではなく、ユーザーが実際に書ける具体的な文章（記述例）になっているか
   - **text累積性**: ユーザーの過去ターンの情報が統合されているか。最新の発言だけに偏っていないか

## JSON形式
{
  "verification": "検証結果（status判定+FB品質の両面から検証）",
  "shouldRevise": true,
  "revisedUpdate": { "aspect": "観点キー", "status": "ok|thin|empty", "text": "修正後の要約", "reason": "修正後の分析理由（引用→充足→不足→結論の構造で）", "advice": "修正後のアドバイス（アクション→対象→思考誘発の構造で）" },
  "alternativeQuestion": "R1とは異なる角度の質問"
}
shouldReviseがfalseの場合、revisedUpdateは空オブジェクト{} とせよ。`;

    function get() { return PROMPT; }

    return { get };
})();
